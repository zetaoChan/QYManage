@{
    ViewBag.Title = "新增文章";
}
@model int
<div ng-controller="articleEditController" ng-init="init(@Model)">
    <div class="row">
        <div class="col-md-12">
            <ol class="breadcrumb">
                <li><a href="/">首页</a></li>
                <li><a href="/article/index">文章管理</a></li>
                <li class="active">文章编辑</li>
            </ol>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-body" style="padding-bottom:5px;">
                    <div class="row">
                        <div class="col-md-12">
                            标题<input type="text" class="form-control" ng-model="articleModel.title" />
                        </div>
                        <div class="col-md-12">
                            类型
                            <select type="text" class="form-control" ng-model="articleModel.type">
                                <option value="">请选择文章类型</option>
                                <option value="0">新闻</option>
                                <option value="1">通知</option>
                            </select>
                        </div>
                        <div class="col-md-12">
                            @Html.Partial("EditorBtn")
                            <div id="editor" style="height:200px;" ng-bind-html="articleModel.contents | to_trusted"></div>
                            <div class="form-group pull-right" style="margin:10px 0;padding-bottom:0;">
                                <a href="javascript:;" class="btn btn-default" title="预览文章" ng-click="preview()"><i class="fa fa-fw fa-file-text-o"></i> 预览</a>
                                <a href="javascript:;" class="btn btn-primary" title="更新" ng-click="update()"><i class="fa fa-fw fa-save"></i> 更新</a>
                                <a href="javascript:;" class="btn btn-default" title="返回" onclick="javascript:history.back()"><i class="fa fa-fw fa-undo"></i> 返回</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    @Html.Partial("Preview")
</div>
@section scripts{
    <script src="~/Content/js/jquery.hotkeys.js" type="text/javascript"></script>
    <script src="~/Content/js/wysiwyg.js" type="text/javascript"></script>
    <script type="text/javascript">
        seajs.use("pages/article/edit.js", function () {
            angular.bootstrap(document, ['app']);
        })
    </script>
}
